let yourScore=0,opponentScore=0,gameHistory=[],lastGameResult=[];const yourScoreHTML=document.querySelector(".your-score_"),opponentScoreHTML=document.querySelector(".opponent-score_"),winLoseHTML=document.querySelector(".win-lose_"),yourChoiceHTML=document.querySelector(".your-choice__"),opponentChoiceHTML=document.querySelector(".opponent-choice__"),rockButton=document.querySelectorAll("._choices button")[0],paperButton=document.querySelectorAll("._choices button")[1],scissorsButton=document.querySelectorAll("._choices button")[2],resetButton=document.querySelector("._reset button"),historyTable=document.querySelector("._table table"),emptyTextTable=document.querySelector("._table .empty_");function selectChoices(){let e,o=this.innerText;yourChoiceHTML.innerText=o;let t=["Rock","Paper","Scissors"][Math.floor(3*Math.random())];opponentChoiceHTML.innerText=t,o==t?(yourScore+=1,opponentScore+=1,e="Draw"):"Rock"==o?"Scissors"==t?(yourScore+=1,e="Win"):"Paper"==t&&(opponentScore+=1,e="Lose"):"Paper"==o?"Rock"==t?(yourScore+=1,e="Win"):"Scissors"==t&&(opponentScore+=1,e="Lose"):"Scissors"==o&&("Paper"==t?(yourScore+=1,e="Win"):"Rock"==t&&(opponentScore+=1,e="Lose")),winLoseHTML.innerText=e,yourScoreHTML.innerText=yourScore,opponentScoreHTML.innerText=opponentScore,tableRender(o,t,e);let r={yourChoice:o,opponentChoice:t,yourScore,opponentScore,winLoseDraw:e};gameHistory.push(r),checkIfEmpty(),saveHistory()}function resetData(){yourScore=0,opponentScore=0,yourScoreHTML.innerText="0",opponentScoreHTML.innerText="0",lastGameResult=gameHistory.slice(-1),gameHistory=[],historyTable.innerHTML=`<tr>
								<th style="width:25%">Result</th>
								<th style="width:50%">Choices</th>
								<th style="width:25%">Scores</th>
							</tr>`,checkIfEmpty(),saveHistory()}function tableRender(e,o,t){let r=historyTable.insertRow(1),n=r.insertCell(0),s=r.insertCell(1),c=r.insertCell(2);n.innerHTML=`<td>${t}</td>`,s.innerHTML=`<td>${e} / ${o}</td>`,c.innerHTML=`<td>${yourScore} / ${opponentScore}</td>`}function checkIfEmpty(){gameHistory.length>0?emptyTextTable.style.display="none":emptyTextTable.style.display="flex"}const game_history="Game_History",last_game_result="Last_Game_Result";function saveHistory(){localStorage.setItem(game_history,JSON.stringify(gameHistory)),localStorage.setItem(last_game_result,JSON.stringify(lastGameResult))}function loadHistory(){let e=JSON.parse(localStorage.getItem(game_history))||[],o=JSON.parse(localStorage.getItem(last_game_result))||[];gameHistory=e,1==(lastGameResult=o).length&&(yourChoiceHTML.innerText=lastGameResult[0].yourChoice,opponentChoiceHTML.innerText=lastGameResult[0].opponentChoice,winLoseHTML.innerText=lastGameResult[0].winLoseDraw),e.forEach((e,o)=>{yourScore=e.yourScore,opponentScore=e.opponentScore,yourScoreHTML.innerText=e.yourScore,opponentScoreHTML.innerText=e.opponentScore,yourChoiceHTML.innerText=e.yourChoice,opponentChoiceHTML.innerText=e.opponentChoice,winLoseHTML.innerText=e.winLoseDraw,tableRender(e.yourChoice,e.opponentChoice,e.winLoseDraw)})}rockButton.addEventListener("click",selectChoices),paperButton.addEventListener("click",selectChoices),scissorsButton.addEventListener("click",selectChoices),resetButton.addEventListener("click",resetData),document.addEventListener("DOMContentLoaded",()=>{loadHistory(),checkIfEmpty()});